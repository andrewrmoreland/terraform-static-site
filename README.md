# terraform-static-site
This terraform module will create an S3 bucket suitable for hosting a website generated by a static site generator, or a Javascript SPA. In addition to the S3 bucket a CloudFront distribution and an ACM certificate will be created.

In order of this module to work, the following criteria must be met:
- The route53 zone for the domain used must be within the same AWS account and accessible by the default AWS provider.
- Any aliases must be of the same root domain as the primary FQDN.

CloudFront configurations can only reference ACM certificates located in us-east-1. Therefore there is a slightly unusual provider configuration, where you need an additional provider specified in order to use this module, which must use the us-east-1 region. This is included in the below example.

```hcl
provider "aws" {
    region = "eu-west-2" #This can be any region, including us-east-1
}

provider "aws" {
    region = "us-east-1"
    alias = "anything"
}

module "terraform-static-site" {
    source = "github.com/andrewrmoreland/terraform-static-site"
    dns_zone = "example.com"
    primary_fqdn = "www.example.com"
    aliases = ["example.com"]
    tags = {
        "environment" = "production"
    }

    providers = {
        aws = aws
        aws.us_east_1 = aws.anything
    }
}
```
**Optional settings:** aliases and tags.